DROP TABLE IF EXISTS TENNIS_UNIVERSE.PERSON_SERVICE;
DROP TABLE IF EXISTS TENNIS_UNIVERSE.PERSON;

create table IF NOT EXISTS TENNIS_UNIVERSE.PERSON (
  PERSON_ID       int(11) NOT NULL auto_increment PRIMARY KEY ,
  SSN_NR          INT(09),
  FIRST_NAME      varchar(35) NOT NULL,
  LAST_NAME       varchar(35) NOT NULL ,
  BIRTH_DT        DATE,
  USER_ROLE_ID     INT(02) NOT NULL,
  FOREIGN KEY (USER_ROLE_ID)
  REFERENCES PERSON(USER_ROLE_ID)
    ON DELETE CASCADE,
  EMAIL_ADDR      varchar(45),
  ADDRESS_LINE1   varchar(45),
  ADDRESS_LINE2   varchar(45),
  CITY            varchar(45),
  STATE           varchar(02),
  ZIP             varchar(05),
  PHONE           VARCHAR(10),
  LAST_UPDATED    TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP

) ENGINE=InnoDB;

INSERT INTO PERSON VALUES (101, 999999999, "JOE", "COYNE", "1969-03-04", 02, "OLENACOLLINS1333@GMAIL.COM", "1 MAIN ST","" , "MADISON", "WI", "53555", "6089997755", CURRENT_TIMESTAMP);
INSERT INTO PERSON VALUES (102, 999999999, "LENA", "COYNE", "1973-03-04", 02, "LCOYNE@GMAIL.COM", "1 MAIN ST","" , "MADISON", "WI", "53555", "6083454400", CURRENT_TIMESTAMP);
INSERT INTO PERSON VALUES (103, 999999999, "KRISTI", "COYNE", "1993-03-04", 02, "KCOYNE@GMAIL.COM", "1 MAIN ST","" , "MADISON", "WI", "53555", "6083456868", CURRENT_TIMESTAMP);
INSERT INTO PERSON VALUES (104, 999999999, "SAMANTHA", "SMITH", "1945-03-04", 02, "SSMITH@GMAIL.COM", "1 MAIN ST","" , "MADISON", "WI", "53555", "6089997755", CURRENT_TIMESTAMP);
INSERT INTO PERSON VALUES (105, 999999999, "SAM", "FROLEY", "1999-03-04", 02, "SFROLEY@GMAIL.COM", "1 MAIN ST","" , "MADISON", "WI", "53555", "6083454400", CURRENT_TIMESTAMP);
INSERT INTO PERSON VALUES (106, 999999999, "DAVE", "DAVIDSON", "1993-03-04", 02, "DAVIDSON@GMAIL.COM", "1 MAIN ST","" , "MADISON", "WI", "53555", "6083456868", CURRENT_TIMESTAMP);
INSERT INTO PERSON VALUES (107, 999999999, "SAMIR", "BENOJEU", "1977-12-13", 01, "SDENOJEY@HOTMAIL.COM", "1 MAIN ST","" , "MADISON", "WI", "53555", "6083456868", CURRENT_TIMESTAMP);
INSERT INTO PERSON VALUES (108, 999999999, "DEB", "JOHNSON", "1945-03-04", 01, "DJOHNSON@TDS.COM", "1 MAIN ST","" , "MADISON", "WI", "53555", "6083456868", CURRENT_TIMESTAMP);

CREATE TABLE IF NOT EXISTS TENNIS_UNIVERSE.PERSON_ACCOUNT
(
  ACCOUNT_ID INT(5) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  PERSON_ID INT (11),
  FOREIGN KEY (PERSON_ID)
  REFERENCES PERSON(PERSON_ID)
    ON DELETE CASCADE,
  ACCOUNT_TYPE INT(3),
  FOREIGN KEY (ACCOUNT_TYPE)
  REFERENCES ACCOUNT(ACCOUNT_TYPE)
    ON DELETE CASCADE,
  EFF_DATE DATE,
  EXP_DATE DATE,
  NOTES VARCHAR(100)
)ENGINE=InnoDB;

CREATE TABLE IF NOT EXISTS TENNIS_UNIVERSE.PERSON_SERVICE
(
  PERSON_SERVICE_ID INT(5) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  PERSON_ID INT (11) NOT NULL ,
  FOREIGN KEY (PERSON_ID)
  REFERENCES PERSON(PERSON_ID)
    ON DELETE CASCADE,
  SERVICE_ID INT(3) NOT NULL ,
  FOREIGN KEY (SERVICE_ID)
  REFERENCES SERVICE(SERVICE_ID)
    ON DELETE CASCADE,
  SERVICE_DATE DATE NOT NULL ,
  NOTES VARCHAR(100)
)ENGINE=InnoDB;

INSERT INTO TENNIS_UNIVERSE.PERSON_SERVICE VALUES(109, 101, 60, '2017-02-10', "");
INSERT INTO TENNIS_UNIVERSE.PERSON_SERVICE VALUES(110, 101, 60, '2017-03-18', "");
INSERT INTO TENNIS_UNIVERSE.PERSON_SERVICE VALUES(111, 101, 60, '2017-01-23', "");
INSERT INTO TENNIS_UNIVERSE.PERSON_SERVICE VALUES(112, 101, 20, '2017-04-02', "");
INSERT INTO TENNIS_UNIVERSE.PERSON_SERVICE VALUES(101, 101, 30, '2017-04-12', "");
INSERT INTO TENNIS_UNIVERSE.PERSON_SERVICE VALUES(102, 101, 40, '2017-04-16', "");
INSERT INTO TENNIS_UNIVERSE.PERSON_SERVICE VALUES(103, 101, 20, '2017-04-17', "");
INSERT INTO TENNIS_UNIVERSE.PERSON_SERVICE VALUES(104, 101, 60, '2017-04-17', "");

INSERT INTO TENNIS_UNIVERSE.PERSON_SERVICE VALUES(105, 102, 30, '2017-04-12', "");
INSERT INTO TENNIS_UNIVERSE.PERSON_SERVICE VALUES(106, 102, 40, '2017-04-16', "");
INSERT INTO TENNIS_UNIVERSE.PERSON_SERVICE VALUES(107, 102, 20, '2017-04-17', "");
INSERT INTO TENNIS_UNIVERSE.PERSON_SERVICE VALUES(108, 102, 60, '2017-04-17', "");

